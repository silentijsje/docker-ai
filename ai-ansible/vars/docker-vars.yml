---
# =============================================================================
# Docker Container Configuration
# =============================================================================
# All configurable settings for deployed containers.
# Secrets are in vars/vault.yml (encrypted)

# =============================================================================
# Global Settings
# =============================================================================
container_puid: 3000
container_pgid: 3000
container_timezone: "{{ timezone }}"

# Paths
container_data_root: "{{ docker_data_root }}"        # /docker
container_media_root: /mnt/media
container_temp_root: /mnt/temporary

# SMB Share paths (from vault for security)
smb_media_path: "{{ vault_smb_media_share_path }}"
smb_temp_path: "{{ vault_smb_temp_share_path }}"

# Cloudflare DNS zone for Traefik labels (from vault for security)
cloudflare_dns_zone: "{{ vault_cloudflare_dns_zone }}"

# Docker network
container_network: mediastack

# =============================================================================
# Port Assignments
# =============================================================================
# Assign ports for each service here. Internal ports are fixed by the app.

container_ports:
  # Infrastructure - Reverse Proxy & Management
  traefik: 8080           # Dashboard
  traefik_http: 80        # HTTP entry point
  traefik_https: 443      # HTTPS entry point
  traefik_metrics: 8082   # Prometheus metrics
  crowdsec_api: 8081      # CrowdSec API
  crowdsec_metrics: 6060  # Prometheus metrics
  crowdsec_waf: 7422      # WAF
  portainer: 9000         # Portainer UI
  homepage: 3001          # Homepage dashboard
  termix: 8080            # Termix SSH management

  # Media Management - *arr stack
  radarr: 7878           # Movies (internal: 7878)
  sonarr: 8989           # TV Shows (internal: 8989)
  # prowlarr: 9696       # Indexers (internal: 9696)
  # whisparr: 6969       # Adult content (internal: 6969)

  # Books & Documents
  booklore: 8085         # Book library (internal: configurable)
  # paperless: 8000      # Documents (internal: 8000)

  # Download Clients
  sabnzbd: 8083          # Usenet (internal: 8080)
  qbittorrent: 8084      # Torrents WebUI (internal: 8080)
  qbittorrent_bt: 6881   # BitTorrent protocol

  # Media Servers & Stats
  # tautulli: 8181       # Plex stats (internal: 8181)
  # jellystat: 3000      # Jellyfin stats (internal: 3000)
  # overseerr: 5055      # Media requests (internal: 5055)

# =============================================================================
# Service-Specific Settings
# =============================================================================

# Radarr
radarr_image: lscr.io/linuxserver/radarr:latest
radarr_container_name: radarr

# Sonarr
sonarr_image: lscr.io/linuxserver/sonarr:latest
sonarr_container_name: sonarr

# SABnzbd
sabnzbd_image: lscr.io/linuxserver/sabnzbd:latest
sabnzbd_container_name: sabnzbd

# qBittorrent
qbittorrent_image: lscr.io/linuxserver/qbittorrent:latest
qbittorrent_container_name: qbittorrent

# Booklore
booklore_image: booklore/booklore:latest
booklore_container_name: booklore
booklore_mariadb_image: lscr.io/linuxserver/mariadb:11.4.5
booklore_mariadb_container_name: booklore-mariadb
booklore_db_name: booklore

# Traefik - Reverse Proxy
traefik_image: "traefik:latest"
traefik_log_level: "INFO"
traefik_cert_email: "{{ vault_traefik_cert_email }}"

# CrowdSec - WAF
crowdsec_image: "crowdsecurity/crowdsec:latest"

# Portainer - Docker Management
portainer_image: "portainer/portainer-ce:latest"

# Homepage - Dashboard
homepage_image: "ghcr.io/gethomepage/homepage:latest"

# Watchtower - Automatic Container Updates
watchtower_image: "containrrr/watchtower:latest"
watchtower_schedule: "0 0 4 * * *"  # Daily at 4 AM
watchtower_cleanup: true
watchtower_include_stopped: false

# Termix - Web SSH Management (ssh hosts only)
termix_image: ghcr.io/lukegus/termix:latest
termix_container_name: termix
termix_domain: termix  # Subdomain (full: termix.{{ cloudflare_dns_zone }})

# =============================================================================
# Enabled Services
# =============================================================================
# Toggle services on/off

enabled_containers:
  # Infrastructure (Phase 1)
  portainer: true
  homepage: true
  watchtower: true

  # Media Management
  radarr: true
  sonarr: true
  booklore: true

  # Download Clients
  sabnzbd: true
  qbittorrent: true

  # SSH Management (ssh hosts only)
  termix: true
