---
###########################################################################
# Radarr - Movie Library Manager
# Deployed by Ansible - Do not edit manually
# Documentation: https://docs.linuxserver.io/images/docker-radarr
###########################################################################

services:
  radarr:
    image: {{ radarr_image | default('lscr.io/linuxserver/radarr:latest') }}
    container_name: {{ radarr_container_name | default('radarr') }}
    restart: unless-stopped
    environment:
      - PUID={{ container_puid }}
      - PGID={{ container_pgid }}
      - TZ={{ container_timezone }}
      - DOCKER_MODS=ghcr.io/themepark-dev/theme.park:radarr
      - TP_THEME={{ container_theme }}
    volumes:
      - {{ container_media_root }}:/mnt/media
      - {{ container_data_root }}/radarr:/config
    ports:
      - "{{ container_ports.radarr }}:7878"
    networks:
      - {{ container_network }}
    labels:
      - traefik.enable=true
      # Router
      - traefik.http.routers.radarr.service=radarr
      - traefik.http.routers.radarr.rule=Host(`radarr.{{ cloudflare_dns_zone }}`)
      - traefik.http.routers.radarr.entrypoints=secureweb
      - traefik.http.routers.radarr.middlewares=security-headers@file,traefik-bouncer@file
      # Service
      - traefik.http.services.radarr.loadbalancer.server.scheme=http
      - traefik.http.services.radarr.loadbalancer.server.port=7878

networks:
  {{ container_network }}:
    external: true
