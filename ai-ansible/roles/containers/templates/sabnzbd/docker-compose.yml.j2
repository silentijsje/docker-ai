---
###########################################################################
# SABnzbd - Usenet Download Client
# Deployed by Ansible - Do not edit manually
# Documentation: https://docs.linuxserver.io/images/docker-sabnzbd
###########################################################################

services:
  sabnzbd:
    image: {{ sabnzbd_image | default('lscr.io/linuxserver/sabnzbd:latest') }}
    container_name: {{ sabnzbd_container_name | default('sabnzbd') }}
    restart: unless-stopped
    environment:
      - PUID={{ container_puid }}
      - PGID={{ container_pgid }}
      - TZ={{ container_timezone }}
      - DOCKER_MODS=ghcr.io/themepark-dev/theme.park:sabnzbd
      - TP_THEME={{ container_theme }}
    volumes:
      - {{ container_data_root }}/sabnzbd:/config
      - {{ container_media_root }}:/mnt/media
      - {{ container_temp_root }}:/mnt/temporary
    ports:
      - "{{ container_ports.sabnzbd }}:7777"
    networai-ansible/roles/containers/templates/portainerks:
      - {{ container_network }}
    labels:
      - traefik.enable=true
      # Router
      - traefik.http.routers.sabnzbd.service=sabnzbd
      - traefik.http.routers.sabnzbd.rule=Host(`sabnzbd.{{ cloudflare_dns_zone }}`)
      - traefik.http.routers.sabnzbd.entrypoints=secureweb
      - traefik.http.routers.sabnzbd.middlewares=security-headers@file,traefik-bouncer@file
      # Service
      - traefik.http.services.sabnzbd.loadbalancer.server.scheme=http
      - traefik.http.services.sabnzbd.loadbalancer.server.port=7777

networks:
  {{ container_network }}:
    external: true
